<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Get User Location</title>
</head>
<body>
  <h2>User Location</h2>
  <button onclick="getLocation()">Get My Location</button>
  <p id="status"></p>
  <p id="output"></p>

  <script>
    function getLocation() {
      const status = document.getElementById("status");
      const output = document.getElementById("output");

      // Check if browser supports geolocation
      if (!navigator.geolocation) {
        status.textContent = "Geolocation is not supported by this browser.";
        return;
      }

      status.textContent = "Locating…";

      navigator.geolocation.getCurrentPosition(
        // ✅ Success callback
        (position) => {
          const lat = position.coords.latitude.toFixed(6);
          const lon = position.coords.longitude.toFixed(6);
          const accuracy = position.coords.accuracy;

          status.textContent = "Location retrieved successfully!";
          output.innerHTML = `
            <strong>Latitude:</strong> ${lat} <br>
            <strong>Longitude:</strong> ${lon} <br>
            <strong>Accuracy:</strong> ±${accuracy} meters
          `;
        },
        // ❌ Error callback
        (error) => {
          switch(error.code) {
            case error.PERMISSION_DENIED:
              status.textContent = "User denied the request for Geolocation.";
              break;
            case error.POSITION_UNAVAILABLE:
              status.textContent = "Location information is unavailable.";
              break;
            case error.TIMEOUT:
              status.textContent = "The request to get user location timed out.";
              break;
            default:
              status.textContent = "An unknown error occurred.";
              break;
          }
        },
        // ⚙️ Options (try to improve accuracy)
        {
          enableHighAccuracy: true,  // request GPS if available
          timeout: 10000,            // max wait 10 sec
          maximumAge: 0              // no cached position
        }
      );
    }
  </script>
</body>
</html>
